{"ast":null,"code":"var _jsxFileName = \"D:\\\\UNIVERSITY\\\\FALL 25\\\\ISP392\\\\FINAL PROJECT\\\\frontend_new\\\\frontend\\\\src\\\\pages\\\\TrayCatalog.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { trayService } from '../services/trayService';\nimport { useCart } from '../contexts/CartContext';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TrayCatalog = () => {\n  _s();\n  const [trays, setTrays] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState({\n    regionId: '',\n    categoryId: '',\n    minPrice: '',\n    maxPrice: '',\n    searchQuery: ''\n  });\n  // State để lưu danh sách regions và categories từ API\n  const [regions, setRegions] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const {\n    addToCart\n  } = useCart();\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        var _traysRes$data;\n        setLoading(true);\n        console.log('Fetching initial data...');\n\n        // Fetch tất cả dữ liệu cần thiết\n        const [regionsRes, categoriesRes, traysRes] = await Promise.all([trayService.getRegions(), trayService.getCategories(), trayService.getAllTrays()]);\n        console.log('Raw responses:', {\n          regions: regionsRes === null || regionsRes === void 0 ? void 0 : regionsRes.data,\n          categories: categoriesRes === null || categoriesRes === void 0 ? void 0 : categoriesRes.data,\n          trays: traysRes === null || traysRes === void 0 ? void 0 : traysRes.data\n        });\n\n        // Xử lý regions\n        if (regionsRes !== null && regionsRes !== void 0 && regionsRes.data && Array.isArray(regionsRes.data)) {\n          setRegions(regionsRes.data);\n          console.log('Regions set:', regionsRes.data);\n        } else {\n          setRegions([]);\n          console.error('Invalid regions data');\n        }\n\n        // Xử lý categories\n        if (categoriesRes !== null && categoriesRes !== void 0 && categoriesRes.data && Array.isArray(categoriesRes.data)) {\n          setCategories(categoriesRes.data);\n          console.log('Categories set:', categoriesRes.data);\n        } else {\n          setCategories([]);\n          console.error('Invalid categories data');\n        }\n\n        // Xử lý trays\n        if (traysRes !== null && traysRes !== void 0 && (_traysRes$data = traysRes.data) !== null && _traysRes$data !== void 0 && _traysRes$data.content) {\n          setTrays(traysRes.data.content);\n          console.log('Trays set from content:', traysRes.data.content);\n        } else if (Array.isArray(traysRes === null || traysRes === void 0 ? void 0 : traysRes.data)) {\n          setTrays(traysRes.data);\n          console.log('Trays set from array:', traysRes.data);\n        } else {\n          setTrays([]);\n          console.error('Invalid trays data');\n        }\n      } catch (error) {\n        console.error('Error fetching initial data:', error);\n        toast.error('Không thể tải dữ liệu. Vui lòng thử lại sau.');\n        setRegions([]);\n        setCategories([]);\n        setTrays([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchInitialData();\n  }, []);\n  const fetchTrays = async () => {\n    try {\n      var _response$data;\n      setLoading(true);\n      const response = await trayService.getAllTrays();\n      console.log('Fetch all trays response:', response.data);\n\n      // Kiểm tra nếu có dữ liệu trong content\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.content) {\n        setTrays(response.data.content);\n      } else if (Array.isArray(response.data)) {\n        setTrays(response.data);\n      } else {\n        setTrays([]);\n      }\n    } catch (error) {\n      console.error('Error fetching trays:', error);\n      toast.error('Không thể tải danh sách sản phẩm. Vui lòng thử lại sau.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = (key, value) => {\n    console.log(`Changing filter ${key} to:`, value);\n    setFilters(prev => {\n      const newFilters = {\n        ...prev,\n        [key]: value\n      };\n      console.log('New filters state:', newFilters);\n      return newFilters;\n    });\n  };\n  const applyFilters = async () => {\n    try {\n      var _filters$searchQuery, _response$data4;\n      setLoading(true);\n\n      // Nếu có search query, ưu tiên tìm kiếm trước\n      const searchQuery = (_filters$searchQuery = filters.searchQuery) === null || _filters$searchQuery === void 0 ? void 0 : _filters$searchQuery.trim();\n      if (searchQuery) {\n        console.log('Searching with query:', searchQuery);\n        try {\n          var _response$data2;\n          const response = await trayService.searchTrays(searchQuery);\n          console.log('Search API response:', response);\n          if (Array.isArray(response.data)) {\n            console.log('Setting search results from array:', response.data);\n            setTrays(response.data);\n          } else if ((_response$data2 = response.data) !== null && _response$data2 !== void 0 && _response$data2.content) {\n            console.log('Setting search results from content:', response.data.content);\n            setTrays(response.data.content);\n          } else {\n            console.log('No results found');\n            setTrays([]);\n          }\n        } catch (error) {\n          console.error('Search error:', error);\n          toast.error('Không thể tìm kiếm sản phẩm');\n          setTrays([]);\n        }\n        return;\n      }\n\n      // Nếu không có search query, áp dụng các filter khác\n      const filterParams = {};\n\n      // Xử lý regionId - gửi đúng tên vùng miền\n      if (filters.regionId && filters.regionId !== '') {\n        filterParams.regionId = filters.regionId; // Đã là regionName từ select\n        console.log('Adding regionId to filter:', filterParams.regionId);\n      }\n\n      // Xử lý categoryId\n      if (filters.categoryId && filters.categoryId !== '') {\n        filterParams.categoryId = filters.categoryId;\n        console.log('Adding categoryId to filter:', filterParams.categoryId);\n      }\n\n      // Xử lý price range\n      if (filters.minPrice && filters.minPrice !== '') {\n        filterParams.minPrice = filters.minPrice.toString();\n      }\n      if (filters.maxPrice && filters.maxPrice !== '') {\n        filterParams.maxPrice = filters.maxPrice.toString();\n      }\n      console.log('Final filter params:', filterParams);\n\n      // Kiểm tra xem có filter nào được áp dụng không\n      const hasFilters = Object.keys(filterParams).length > 0;\n\n      // Nếu không có filter, lấy tất cả sản phẩm\n      if (!hasFilters) {\n        var _response$data3;\n        const response = await trayService.getAllTrays();\n        console.log('Get all trays response:', response);\n        if ((_response$data3 = response.data) !== null && _response$data3 !== void 0 && _response$data3.content) {\n          setTrays(response.data.content);\n        } else {\n          setTrays([]);\n        }\n        return;\n      }\n\n      // Gọi API filter với params\n      console.log('Calling filter API with params:', filterParams);\n      const response = await trayService.filterTrays(filterParams);\n      console.log('Filter response:', response);\n\n      // Set trays từ response\n      if ((_response$data4 = response.data) !== null && _response$data4 !== void 0 && _response$data4.content) {\n        setTrays(response.data.content);\n      } else {\n        console.log('No content in response data:', response.data);\n        setTrays([]);\n      }\n    } catch (error) {\n      console.error('Error filtering/searching trays:', error);\n      toast.error('Không thể tìm kiếm sản phẩm. Vui lòng thử lại sau.');\n      setTrays([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const clearFilters = async () => {\n    setFilters({\n      regionId: '',\n      categoryId: '',\n      minPrice: '',\n      maxPrice: '',\n      searchQuery: ''\n    });\n    await fetchTrays(); // Đợi fetch hoàn tất\n  };\n  const handleAddToCart = tray => {\n    addToCart(tray);\n    toast.success('Đã thêm vào giỏ hàng!');\n  };\n  const handleClose = () => {\n    console.log('Handle close logic executed');\n    // Add your logic here for closing modals or cleaning up resources\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-vietnam-cream py-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center mb-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl md:text-4xl font-serif font-bold text-vietnam-red mb-4\",\n          children: \"Catalog m\\xE2m c\\xFAng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-gray-600\",\n          children: \"Ch\\u1ECDn m\\xE2m c\\xFAng ph\\xF9 h\\u1EE3p cho l\\u1EC5 h\\u1ED9i c\\u1EE7a b\\u1EA1n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: filters.searchQuery,\n              onChange: e => {\n                handleFilterChange('searchQuery', e.target.value);\n                // Clear other filters when searching\n                if (e.target.value.trim()) {\n                  setFilters(prev => ({\n                    ...prev,\n                    regionId: '',\n                    categoryId: '',\n                    minPrice: '',\n                    maxPrice: '',\n                    searchQuery: e.target.value\n                  }));\n                }\n              },\n              onKeyDown: e => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  applyFilters();\n                }\n              },\n              className: \"w-full p-4 pl-12 text-lg border border-gray-300 rounded-lg focus:ring-vietnam-red focus:border-vietnam-red\",\n              placeholder: \"T\\xECm ki\\u1EBFm m\\xE2m c\\xFAng...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-6 w-6 text-gray-400\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: applyFilters,\n            className: \"px-8 py-4 bg-vietnam-red text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center min-w-[120px] font-bold\",\n            children: \"T\\xECm ki\\u1EBFm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold text-vietnam-red mb-6\",\n          children: \"B\\u1ED9 l\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-4 gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"V\\xF9ng mi\\u1EC1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.regionId,\n              onChange: e => {\n                console.log('Selected region:', e.target.value);\n                handleFilterChange('regionId', e.target.value);\n              },\n              className: \"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this), regions && regions.length > 0 ? regions.map(region => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: region.regionName || region.name,\n                children: region.regionName || region.name\n              }, region.regionId || region.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Lo\\u1EA1i m\\xE2m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filters.categoryId,\n              onChange: e => {\n                console.log('Selected category:', e.target.value);\n                handleFilterChange('categoryId', e.target.value);\n              },\n              className: \"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"T\\u1EA5t c\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 17\n              }, this), categories && categories.length > 0 ? categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: category.categoryName || category.name,\n                children: category.categoryName || category.name\n              }, category.categoryId || category.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 21\n              }, this)) : /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                disabled: true,\n                children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Gi\\xE1 t\\u1EEB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.minPrice,\n              onChange: e => handleFilterChange('minPrice', e.target.value),\n              className: \"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\",\n              placeholder: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-2\",\n              children: \"Gi\\xE1 \\u0111\\u1EBFn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: filters.maxPrice,\n              onChange: e => handleFilterChange('maxPrice', e.target.value),\n              className: \"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\",\n              placeholder: \"10000000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-4 mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: applyFilters,\n            className: \"btn-primary\",\n            children: \"\\xC1p d\\u1EE5ng b\\u1ED9 l\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearFilters,\n            className: \"btn-outline\",\n            children: \"X\\xF3a b\\u1ED9 l\\u1ECDc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center py-12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-vietnam-red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",\n        children: trays.map(tray => {\n          var _tray$items, _tray$items2;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card hover:shadow-xl transition-shadow duration-300\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"aspect-w-16 aspect-h-9 mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: tray.productImage || '',\n                  alt: tray.productName,\n                  className: \"w-full h-48 object-cover rounded-lg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 387,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"text-xl font-serif font-semibold text-vietnam-red mb-2\",\n                  children: tray.productName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-700 mb-4 line-clamp-3\",\n                  children: tray.productDescription\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex flex-wrap gap-2\",\n                    children: [tray.region && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 bg-vietnam-gold text-vietnam-red text-xs rounded-full\",\n                      children: tray.region\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 404,\n                      columnNumber: 27\n                    }, this), tray.category && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 bg-vietnam-green text-white text-xs rounded-full\",\n                      children: tray.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-semibold text-gray-700 mb-2\",\n                    children: \"Bao g\\u1ED3m:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    className: \"text-sm text-gray-600 space-y-1\",\n                    children: [(_tray$items = tray.items) === null || _tray$items === void 0 ? void 0 : _tray$items.slice(0, 3).map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"flex items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"w-1 h-1 bg-vietnam-red rounded-full mr-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 421,\n                        columnNumber: 29\n                      }, this), item]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 420,\n                      columnNumber: 27\n                    }, this)), ((_tray$items2 = tray.items) === null || _tray$items2 === void 0 ? void 0 : _tray$items2.length) > 3 && /*#__PURE__*/_jsxDEV(\"li\", {\n                      className: \"text-vietnam-red text-xs\",\n                      children: [\"+\", tray.items.length - 3, \" m\\xF3n kh\\xE1c\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 426,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-2xl font-bold text-vietnam-red\",\n                    children: [tray.price.toLocaleString('vi-VN'), \" VN\\u0110\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleAddToCart(tray),\n                  className: \"btn-primary w-full\",\n                  children: \"Th\\xEAm v\\xE0o gi\\u1ECF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 17\n            }, this)\n          }, tray.productId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 11\n      }, this), trays.length === 0 && !loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-gray-400 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-16 h-16 mx-auto\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 20 20\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-semibold text-gray-600 mb-2\",\n          children: \"Kh\\xF4ng t\\xECm th\\u1EA5y m\\xE2m c\\xFAng n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mb-4\",\n          children: \"H\\xE3y th\\u1EED thay \\u0111\\u1ED5i b\\u1ED9 l\\u1ECDc ho\\u1EB7c xem t\\u1EA5t c\\u1EA3 s\\u1EA3n ph\\u1EA9m\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clearFilters,\n          className: \"btn-outline\",\n          children: \"Xem t\\u1EA5t c\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_s(TrayCatalog, \"PTf9WVhJ8Z8iFD4TkUkmJwzEeu8=\", false, function () {\n  return [useCart];\n});\n_c = TrayCatalog;\nexport default TrayCatalog;\nvar _c;\n$RefreshReg$(_c, \"TrayCatalog\");","map":{"version":3,"names":["React","useState","useEffect","trayService","useCart","toast","jsxDEV","_jsxDEV","TrayCatalog","_s","trays","setTrays","loading","setLoading","filters","setFilters","regionId","categoryId","minPrice","maxPrice","searchQuery","regions","setRegions","categories","setCategories","addToCart","fetchInitialData","_traysRes$data","console","log","regionsRes","categoriesRes","traysRes","Promise","all","getRegions","getCategories","getAllTrays","data","Array","isArray","error","content","fetchTrays","_response$data","response","handleFilterChange","key","value","prev","newFilters","applyFilters","_filters$searchQuery","_response$data4","trim","_response$data2","searchTrays","filterParams","toString","hasFilters","Object","keys","length","_response$data3","filterTrays","clearFilters","handleAddToCart","tray","success","handleClose","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","onKeyDown","preventDefault","placeholder","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","map","region","regionName","name","id","disabled","category","categoryName","_tray$items","_tray$items2","src","productImage","alt","productName","productDescription","items","slice","item","index","price","toLocaleString","productId","fillRule","clipRule","_c","$RefreshReg$"],"sources":["D:/UNIVERSITY/FALL 25/ISP392/FINAL PROJECT/frontend_new/frontend/src/pages/TrayCatalog.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { trayService } from '../services/trayService';\r\nimport { useCart } from '../contexts/CartContext';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst TrayCatalog = () => {\r\n  const [trays, setTrays] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    regionId: '',\r\n    categoryId: '',\r\n    minPrice: '',\r\n    maxPrice: '',\r\n    searchQuery: ''\r\n  });\r\n  // State để lưu danh sách regions và categories từ API\r\n  const [regions, setRegions] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const { addToCart } = useCart();\r\n\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        console.log('Fetching initial data...');\r\n        \r\n        // Fetch tất cả dữ liệu cần thiết\r\n        const [regionsRes, categoriesRes, traysRes] = await Promise.all([\r\n          trayService.getRegions(),\r\n          trayService.getCategories(),\r\n          trayService.getAllTrays()\r\n        ]);\r\n        \r\n        console.log('Raw responses:', {\r\n          regions: regionsRes?.data,\r\n          categories: categoriesRes?.data,\r\n          trays: traysRes?.data\r\n        });\r\n\r\n        // Xử lý regions\r\n        if (regionsRes?.data && Array.isArray(regionsRes.data)) {\r\n          setRegions(regionsRes.data);\r\n          console.log('Regions set:', regionsRes.data);\r\n        } else {\r\n          setRegions([]);\r\n          console.error('Invalid regions data');\r\n        }\r\n\r\n        // Xử lý categories\r\n        if (categoriesRes?.data && Array.isArray(categoriesRes.data)) {\r\n          setCategories(categoriesRes.data);\r\n          console.log('Categories set:', categoriesRes.data);\r\n        } else {\r\n          setCategories([]);\r\n          console.error('Invalid categories data');\r\n        }\r\n\r\n        // Xử lý trays\r\n        if (traysRes?.data?.content) {\r\n          setTrays(traysRes.data.content);\r\n          console.log('Trays set from content:', traysRes.data.content);\r\n        } else if (Array.isArray(traysRes?.data)) {\r\n          setTrays(traysRes.data);\r\n          console.log('Trays set from array:', traysRes.data);\r\n        } else {\r\n          setTrays([]);\r\n          console.error('Invalid trays data');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching initial data:', error);\r\n        toast.error('Không thể tải dữ liệu. Vui lòng thử lại sau.');\r\n        setRegions([]);\r\n        setCategories([]);\r\n        setTrays([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchInitialData();\r\n  }, []);\r\n\r\n  const fetchTrays = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await trayService.getAllTrays();\r\n      console.log('Fetch all trays response:', response.data);\r\n      \r\n      // Kiểm tra nếu có dữ liệu trong content\r\n      if (response.data?.content) {\r\n        setTrays(response.data.content);\r\n      } else if (Array.isArray(response.data)) {\r\n        setTrays(response.data);\r\n      } else {\r\n        setTrays([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching trays:', error);\r\n      toast.error('Không thể tải danh sách sản phẩm. Vui lòng thử lại sau.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    console.log(`Changing filter ${key} to:`, value);\r\n    setFilters(prev => {\r\n      const newFilters = {\r\n        ...prev,\r\n        [key]: value\r\n      };\r\n      console.log('New filters state:', newFilters);\r\n      return newFilters;\r\n    });\r\n  };\r\n\r\n  const applyFilters = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Nếu có search query, ưu tiên tìm kiếm trước\r\n      const searchQuery = filters.searchQuery?.trim();\r\n      if (searchQuery) {\r\n        console.log('Searching with query:', searchQuery);\r\n        try {\r\n          const response = await trayService.searchTrays(searchQuery);\r\n          console.log('Search API response:', response);\r\n          \r\n          if (Array.isArray(response.data)) {\r\n            console.log('Setting search results from array:', response.data);\r\n            setTrays(response.data);\r\n          } else if (response.data?.content) {\r\n            console.log('Setting search results from content:', response.data.content);\r\n            setTrays(response.data.content);\r\n          } else {\r\n            console.log('No results found');\r\n            setTrays([]);\r\n          }\r\n        } catch (error) {\r\n          console.error('Search error:', error);\r\n          toast.error('Không thể tìm kiếm sản phẩm');\r\n          setTrays([]);\r\n        }\r\n        return;\r\n      }\r\n\r\n      // Nếu không có search query, áp dụng các filter khác\r\n      const filterParams = {};\r\n      \r\n      // Xử lý regionId - gửi đúng tên vùng miền\r\n      if (filters.regionId && filters.regionId !== '') {\r\n        filterParams.regionId = filters.regionId; // Đã là regionName từ select\r\n        console.log('Adding regionId to filter:', filterParams.regionId);\r\n      }\r\n      \r\n      // Xử lý categoryId\r\n      if (filters.categoryId && filters.categoryId !== '') {\r\n        filterParams.categoryId = filters.categoryId;\r\n        console.log('Adding categoryId to filter:', filterParams.categoryId);\r\n      }\r\n      \r\n      // Xử lý price range\r\n      if (filters.minPrice && filters.minPrice !== '') {\r\n        filterParams.minPrice = filters.minPrice.toString();\r\n      }\r\n      if (filters.maxPrice && filters.maxPrice !== '') {\r\n        filterParams.maxPrice = filters.maxPrice.toString();\r\n      }\r\n      \r\n      console.log('Final filter params:', filterParams);\r\n      \r\n      // Kiểm tra xem có filter nào được áp dụng không\r\n      const hasFilters = Object.keys(filterParams).length > 0;\r\n      \r\n      // Nếu không có filter, lấy tất cả sản phẩm\r\n      if (!hasFilters) {\r\n        const response = await trayService.getAllTrays();\r\n        console.log('Get all trays response:', response);\r\n        if (response.data?.content) {\r\n          setTrays(response.data.content);\r\n        } else {\r\n          setTrays([]);\r\n        }\r\n        return;\r\n      }\r\n      \r\n      // Gọi API filter với params\r\n      console.log('Calling filter API with params:', filterParams);\r\n      const response = await trayService.filterTrays(filterParams);\r\n      console.log('Filter response:', response);\r\n      \r\n      // Set trays từ response\r\n      if (response.data?.content) {\r\n        setTrays(response.data.content);\r\n      } else {\r\n        console.log('No content in response data:', response.data);\r\n        setTrays([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error filtering/searching trays:', error);\r\n      toast.error('Không thể tìm kiếm sản phẩm. Vui lòng thử lại sau.');\r\n      setTrays([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const clearFilters = async () => {\r\n    setFilters({\r\n      regionId: '',\r\n      categoryId: '',\r\n      minPrice: '',\r\n      maxPrice: '',\r\n      searchQuery: ''\r\n    });\r\n    await fetchTrays(); // Đợi fetch hoàn tất\r\n  };\r\n\r\n  const handleAddToCart = (tray) => {\r\n    addToCart(tray);\r\n    toast.success('Đã thêm vào giỏ hàng!');\r\n  };\r\n\r\n  const handleClose = () => {\r\n    console.log('Handle close logic executed');\r\n    // Add your logic here for closing modals or cleaning up resources\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-vietnam-cream py-8\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center mb-12\">\r\n          <h1 className=\"text-3xl md:text-4xl font-serif font-bold text-vietnam-red mb-4\">\r\n            Catalog mâm cúng\r\n          </h1>\r\n          <p className=\"text-lg text-gray-600\">\r\n            Chọn mâm cúng phù hợp cho lễ hội của bạn\r\n          </p>\r\n        </div>\r\n\r\n        {/* Search Bar */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <div className=\"flex gap-4\">\r\n            <div className=\"relative flex-1\">\r\n              <input\r\n                type=\"text\"\r\n                value={filters.searchQuery}\r\n                onChange={(e) => {\r\n                  handleFilterChange('searchQuery', e.target.value);\r\n                  // Clear other filters when searching\r\n                  if (e.target.value.trim()) {\r\n                    setFilters(prev => ({\r\n                      ...prev,\r\n                      regionId: '',\r\n                      categoryId: '',\r\n                      minPrice: '',\r\n                      maxPrice: '',\r\n                      searchQuery: e.target.value\r\n                    }));\r\n                  }\r\n                }}\r\n                onKeyDown={(e) => {\r\n                  if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    applyFilters();\r\n                  }\r\n                }}\r\n                className=\"w-full p-4 pl-12 text-lg border border-gray-300 rounded-lg focus:ring-vietnam-red focus:border-vietnam-red\"\r\n                placeholder=\"Tìm kiếm mâm cúng...\"\r\n              />\r\n              <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\r\n                <svg className=\"h-6 w-6 text-gray-400\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <button \r\n              onClick={applyFilters}\r\n              className=\"px-8 py-4 bg-vietnam-red text-white rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center min-w-[120px] font-bold\"\r\n            >\r\n              Tìm kiếm\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Filters */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\r\n          <h2 className=\"text-xl font-semibold text-vietnam-red mb-6\">Bộ lọc</h2>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n            <div className=\"flex flex-col\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Vùng miền</label>\r\n              <select\r\n                value={filters.regionId}\r\n                onChange={(e) => {\r\n                  console.log('Selected region:', e.target.value);\r\n                  handleFilterChange('regionId', e.target.value);\r\n                }}\r\n                className=\"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\"\r\n              >\r\n                <option value=\"\">Tất cả</option>\r\n                {regions && regions.length > 0 ? (\r\n                  regions.map(region => (\r\n                    <option \r\n                      key={region.regionId || region.id} \r\n                      value={region.regionName || region.name}\r\n                    >\r\n                      {region.regionName || region.name}\r\n                    </option>\r\n                  ))\r\n                ) : (\r\n                  <option value=\"\" disabled>Không có dữ liệu</option>\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Loại mâm</label>\r\n              <select\r\n                value={filters.categoryId}\r\n                onChange={(e) => {\r\n                  console.log('Selected category:', e.target.value);\r\n                  handleFilterChange('categoryId', e.target.value);\r\n                }}\r\n                className=\"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\"\r\n              >\r\n                <option value=\"\">Tất cả</option>\r\n                {categories && categories.length > 0 ? (\r\n                  categories.map(category => (\r\n                    <option \r\n                      key={category.categoryId || category.id} \r\n                      value={category.categoryName || category.name}\r\n                    >\r\n                      {category.categoryName || category.name}\r\n                    </option>\r\n                  ))\r\n                ) : (\r\n                  <option value=\"\" disabled>Không có dữ liệu</option>\r\n                )}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Giá từ</label>\r\n              <input\r\n                type=\"number\"\r\n                value={filters.minPrice}\r\n                onChange={(e) => handleFilterChange('minPrice', e.target.value)}\r\n                className=\"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\"\r\n                placeholder=\"0\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Giá đến</label>\r\n              <input\r\n                type=\"number\"\r\n                value={filters.maxPrice}\r\n                onChange={(e) => handleFilterChange('maxPrice', e.target.value)}\r\n                className=\"w-full h-10 px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-vietnam-red focus:border-vietnam-red\"\r\n                placeholder=\"10000000\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex space-x-4 mt-6\">\r\n            <button onClick={applyFilters} className=\"btn-primary\">\r\n              Áp dụng bộ lọc\r\n            </button>\r\n            <button onClick={clearFilters} className=\"btn-outline\">\r\n              Xóa bộ lọc\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Results */}\r\n        {loading ? (\r\n          <div className=\"flex justify-center py-12\">\r\n            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-vietnam-red\"></div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n            {trays.map((tray) => (\r\n              <div key={tray.productId} className=\"card hover:shadow-xl transition-shadow duration-300\">\r\n                <div className=\"card-content\">\r\n                  <div className=\"aspect-w-16 aspect-h-9 mb-4\">\r\n                    <img\r\n                      src={tray.productImage || ''}\r\n                      alt={tray.productName}\r\n                      className=\"w-full h-48 object-cover rounded-lg\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"card-body\">\r\n                    <h3 className=\"text-xl font-serif font-semibold text-vietnam-red mb-2\">\r\n                      {tray.productName}\r\n                    </h3>\r\n                    <p className=\"text-gray-700 mb-4 line-clamp-3\">\r\n                      {tray.productDescription}\r\n                    </p>\r\n                    \r\n                    <div className=\"mb-4\">\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {tray.region && (\r\n                          <span className=\"px-2 py-1 bg-vietnam-gold text-vietnam-red text-xs rounded-full\">\r\n                            {tray.region}\r\n                          </span>\r\n                        )}\r\n                        {tray.category && (\r\n                          <span className=\"px-2 py-1 bg-vietnam-green text-white text-xs rounded-full\">\r\n                            {tray.category}\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                      <h4 className=\"font-semibold text-gray-700 mb-2\">Bao gồm:</h4>\r\n                      <ul className=\"text-sm text-gray-600 space-y-1\">\r\n                        {tray.items?.slice(0, 3).map((item, index) => (\r\n                          <li key={index} className=\"flex items-center\">\r\n                            <span className=\"w-1 h-1 bg-vietnam-red rounded-full mr-2\"></span>\r\n                            {item}\r\n                          </li>\r\n                        ))}\r\n                        {tray.items?.length > 3 && (\r\n                          <li className=\"text-vietnam-red text-xs\">\r\n                            +{tray.items.length - 3} món khác\r\n                          </li>\r\n                        )}\r\n                      </ul>\r\n                    </div>\r\n\r\n                    <div className=\"mb-4\">\r\n                      <span className=\"text-2xl font-bold text-vietnam-red\">\r\n                        {tray.price.toLocaleString('vi-VN')} VNĐ\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"card-footer\">\r\n                    <button\r\n                      onClick={() => handleAddToCart(tray)}\r\n                      className=\"btn-primary w-full\"\r\n                    >\r\n                      Thêm vào giỏ\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n\r\n        {trays.length === 0 && !loading && (\r\n          <div className=\"text-center py-12\">\r\n            <div className=\"text-gray-400 mb-4\">\r\n              <svg className=\"w-16 h-16 mx-auto\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n            </div>\r\n            <h3 className=\"text-xl font-semibold text-gray-600 mb-2\">\r\n              Không tìm thấy mâm cúng nào\r\n            </h3>\r\n            <p className=\"text-gray-500 mb-4\">\r\n              Hãy thử thay đổi bộ lọc hoặc xem tất cả sản phẩm\r\n            </p>\r\n            <button onClick={clearFilters} className=\"btn-outline\">\r\n              Xem tất cả\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrayCatalog;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}