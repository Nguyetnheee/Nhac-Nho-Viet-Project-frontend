{"ast":null,"code":"var _jsxFileName = \"D:\\\\UNIVERSITY\\\\FALL 25\\\\ISP392\\\\FINAL PROJECT\\\\frontend_new\\\\frontend\\\\src\\\\pages\\\\VerifyOTP.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport api from '../utils/api'; // Import api instance\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VerifyOTP = () => {\n  _s();\n  var _location$state;\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [resendLoading, setResendLoading] = useState(false);\n  const [resendMessage, setResendMessage] = useState('');\n  const inputRefs = [useRef(), useRef(), useRef(), useRef(), useRef(), useRef()];\n  const {\n    resendOTP\n  } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const email = ((_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.email) || '';\n  useEffect(() => {\n    // Nếu không có email, chuyển về trang đăng ký\n    if (!email) {\n      navigate('/register');\n    }\n  }, [email, navigate]);\n  const handleChange = (index, value) => {\n    // Chỉ cho phép nhập số\n    if (value && !/^\\d$/.test(value)) return;\n    const newOtp = [...otp];\n    newOtp[index] = value;\n    setOtp(newOtp);\n    setError('');\n\n    // Tự động chuyển sang ô tiếp theo\n    if (value && index < 5) {\n      inputRefs[index + 1].current.focus();\n    }\n  };\n  const handleKeyDown = (index, e) => {\n    // Xử lý phím Backspace\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\n      inputRefs[index - 1].current.focus();\n    }\n  };\n  const handlePaste = e => {\n    e.preventDefault();\n    const pastedData = e.clipboardData.getData('text/plain').slice(0, 6);\n    if (!/^\\d+$/.test(pastedData)) return;\n    const newOtp = [...otp];\n    for (let i = 0; i < pastedData.length && i < 6; i++) {\n      newOtp[i] = pastedData[i];\n    }\n    setOtp(newOtp);\n\n    // Focus vào ô cuối cùng\n    const lastIndex = Math.min(pastedData.length, 5);\n    inputRefs[lastIndex].current.focus();\n  };\n  const handleVerify = async () => {\n    const otpCode = otp.join('');\n    if (otpCode.length !== 6) {\n      setError('Vui lòng nhập đủ 6 số');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const response = await api.post('/api/customer/verify-otp', {\n        email,\n        otp: otpCode\n      });\n      if (response.data.status === 'success') {\n        setMessage(response.data.message);\n        setTimeout(() => navigate('/reset-password', {\n          state: {\n            email\n          }\n        }), 2000);\n      } else {\n        setError(response.data.message);\n      }\n    } catch (err) {\n      setError('Có lỗi xảy ra. Vui lòng thử lại.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleResend = async () => {\n    setResendLoading(true);\n    setResendMessage('');\n    setError('');\n    const result = await resendOTP(email);\n    if (result.success) {\n      setResendMessage('Mã OTP mới đã được gửi đến email của bạn');\n      setOtp(['', '', '', '', '', '']);\n      inputRefs[0].current.focus();\n    } else {\n      setError(result.error || 'Không thể gửi lại mã OTP');\n    }\n    setResendLoading(false);\n  };\n  const handleCancel = () => {\n    navigate('/register');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-vietnam-cream flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-xl p-8 sm:p-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-20 bg-[#28a745] rounded-2xl flex items-center justify-center relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-12 h-12 text-white\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute -bottom-1 -right-1 w-8 h-8 bg-[#218838] rounded-full flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-white\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 3,\n                  d: \"M5 13l4 4L19 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center text-2xl font-bold text-gray-800 mb-2\",\n          children: \"Please check your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-500 mb-8\",\n          children: [\"We've sent a code to \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium text-gray-700\",\n            children: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 34\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-2 mb-4\",\n          children: otp.map((digit, index) => /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRefs[index],\n            type: \"text\",\n            maxLength: 1,\n            value: digit,\n            onChange: e => handleChange(index, e.target.value),\n            onKeyDown: e => handleKeyDown(index, e),\n            onPaste: handlePaste,\n            className: \"w-10 h-10 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-bold text-[#28a745] border-2 border-[#28a745] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#218838] focus:border-transparent transition-all duration-200\",\n            disabled: loading\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center text-gray-600 mb-6\",\n          children: [\"Didn't get the code?\", ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleResend,\n            disabled: resendLoading,\n            className: \"text-[#28a745] hover:text-[#218838] font-medium underline disabled:opacity-50\",\n            children: resendLoading ? 'Đang gửi...' : 'Click to resend.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 bg-red-600 border border-red-700 text-white font-bold px-4 py-3 rounded-lg text-sm text-center shadow-lg\",\n          children: (error === null || error === void 0 ? void 0 : error.message) || String(error)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), resendMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 bg-[#d4edda] border border-[#c3e6cb] text-[#155724] px-4 py-3 rounded-lg text-sm text-center\",\n          children: resendMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleCancel,\n            disabled: loading,\n            className: \"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVerify,\n            disabled: loading || otp.some(d => !d),\n            className: \"flex-1 px-6 py-3 bg-[#28a745] text-white rounded-lg font-medium hover:bg-[#218838] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\",\n            children: loading ? 'Đang xác thực...' : 'Verify'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n};\n_s(VerifyOTP, \"keri9K/vPN4Dt4kajrWYixDNcb4=\", false, function () {\n  return [useAuth, useNavigate, useLocation];\n});\n_c = VerifyOTP;\nexport default VerifyOTP;\nvar _c;\n$RefreshReg$(_c, \"VerifyOTP\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","useLocation","useAuth","api","jsxDEV","_jsxDEV","VerifyOTP","_s","_location$state","otp","setOtp","loading","setLoading","error","setError","resendLoading","setResendLoading","resendMessage","setResendMessage","inputRefs","resendOTP","navigate","location","email","state","handleChange","index","value","test","newOtp","current","focus","handleKeyDown","e","key","handlePaste","preventDefault","pastedData","clipboardData","getData","slice","i","length","lastIndex","Math","min","handleVerify","otpCode","join","response","post","data","status","setMessage","message","setTimeout","err","handleResend","result","success","handleCancel","className","children","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","fileName","_jsxFileName","lineNumber","columnNumber","map","digit","ref","type","maxLength","onChange","target","onKeyDown","onPaste","disabled","onClick","String","some","_c","$RefreshReg$"],"sources":["D:/UNIVERSITY/FALL 25/ISP392/FINAL PROJECT/frontend_new/frontend/src/pages/VerifyOTP.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport api from '../utils/api'; // Import api instance\r\n\r\nconst VerifyOTP = () => {\r\n  const [otp, setOtp] = useState(['', '', '', '', '', '']);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [resendLoading, setResendLoading] = useState(false);\r\n  const [resendMessage, setResendMessage] = useState('');\r\n  const inputRefs = [useRef(), useRef(), useRef(), useRef(), useRef(), useRef()];\r\n  \r\n  const { resendOTP } = useAuth();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const email = location.state?.email || '';\r\n\r\n  useEffect(() => {\r\n    // Nếu không có email, chuyển về trang đăng ký\r\n    if (!email) {\r\n      navigate('/register');\r\n    }\r\n  }, [email, navigate]);\r\n\r\n  const handleChange = (index, value) => {\r\n    // Chỉ cho phép nhập số\r\n    if (value && !/^\\d$/.test(value)) return;\r\n\r\n    const newOtp = [...otp];\r\n    newOtp[index] = value;\r\n    setOtp(newOtp);\r\n    setError('');\r\n\r\n    // Tự động chuyển sang ô tiếp theo\r\n    if (value && index < 5) {\r\n      inputRefs[index + 1].current.focus();\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (index, e) => {\r\n    // Xử lý phím Backspace\r\n    if (e.key === 'Backspace' && !otp[index] && index > 0) {\r\n      inputRefs[index - 1].current.focus();\r\n    }\r\n  };\r\n\r\n  const handlePaste = (e) => {\r\n    e.preventDefault();\r\n    const pastedData = e.clipboardData.getData('text/plain').slice(0, 6);\r\n    \r\n    if (!/^\\d+$/.test(pastedData)) return;\r\n\r\n    const newOtp = [...otp];\r\n    for (let i = 0; i < pastedData.length && i < 6; i++) {\r\n      newOtp[i] = pastedData[i];\r\n    }\r\n    setOtp(newOtp);\r\n    \r\n    // Focus vào ô cuối cùng\r\n    const lastIndex = Math.min(pastedData.length, 5);\r\n    inputRefs[lastIndex].current.focus();\r\n  };\r\n\r\n  const handleVerify = async () => {\r\n    const otpCode = otp.join('');\r\n    \r\n    if (otpCode.length !== 6) {\r\n      setError('Vui lòng nhập đủ 6 số');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const response = await api.post('/api/customer/verify-otp', { email, otp: otpCode });\r\n      if (response.data.status === 'success') {\r\n        setMessage(response.data.message);\r\n        setTimeout(() => navigate('/reset-password', { state: { email } }), 2000);\r\n      } else {\r\n        setError(response.data.message);\r\n      }\r\n    } catch (err) {\r\n      setError('Có lỗi xảy ra. Vui lòng thử lại.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResend = async () => {\r\n    setResendLoading(true);\r\n    setResendMessage('');\r\n    setError('');\r\n\r\n    const result = await resendOTP(email);\r\n    \r\n    if (result.success) {\r\n      setResendMessage('Mã OTP mới đã được gửi đến email của bạn');\r\n      setOtp(['', '', '', '', '', '']);\r\n      inputRefs[0].current.focus();\r\n    } else {\r\n      setError(result.error || 'Không thể gửi lại mã OTP');\r\n    }\r\n    \r\n    setResendLoading(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    navigate('/register');\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-vietnam-cream flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full\">\r\n        <div className=\"bg-white rounded-2xl shadow-xl p-8 sm:p-12\">\r\n          {/* Icon */}\r\n          <div className=\"flex justify-center mb-6\">\r\n            <div className=\"w-20 h-20 bg-[#28a745] rounded-2xl flex items-center justify-center relative\">\r\n              <svg \r\n                className=\"w-12 h-12 text-white\" \r\n                fill=\"none\" \r\n                stroke=\"currentColor\" \r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path \r\n                  strokeLinecap=\"round\" \r\n                  strokeLinejoin=\"round\" \r\n                  strokeWidth={2} \r\n                  d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" \r\n                />\r\n              </svg>\r\n              <div className=\"absolute -bottom-1 -right-1 w-8 h-8 bg-[#218838] rounded-full flex items-center justify-center\">\r\n                <svg \r\n                  className=\"w-5 h-5 text-white\" \r\n                  fill=\"none\" \r\n                  stroke=\"currentColor\" \r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path \r\n                    strokeLinecap=\"round\" \r\n                    strokeLinejoin=\"round\" \r\n                    strokeWidth={3} \r\n                    d=\"M5 13l4 4L19 7\" \r\n                  />\r\n                </svg>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Title */}\r\n          <h2 className=\"text-center text-2xl font-bold text-gray-800 mb-2\">\r\n            Please check your email\r\n          </h2>\r\n          <p className=\"text-center text-gray-500 mb-8\">\r\n            We've sent a code to <span className=\"font-medium text-gray-700\">{email}</span>\r\n          </p>\r\n\r\n          {/* OTP Input */}\r\n          <div className=\"flex justify-center gap-2 mb-4\">\r\n            {otp.map((digit, index) => (\r\n              <input\r\n                key={index}\r\n                ref={inputRefs[index]}\r\n                type=\"text\"\r\n                maxLength={1}\r\n                value={digit}\r\n                onChange={(e) => handleChange(index, e.target.value)}\r\n                onKeyDown={(e) => handleKeyDown(index, e)}\r\n                onPaste={handlePaste}\r\n                className=\"w-10 h-10 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-bold text-[#28a745] border-2 border-[#28a745] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#218838] focus:border-transparent transition-all duration-200\"\r\n                disabled={loading}\r\n              />\r\n            ))}\r\n          </div>\r\n\r\n          {/* Resend Link */}\r\n          <p className=\"text-center text-gray-600 mb-6\">\r\n            Didn't get the code?{' '}\r\n            <button\r\n              onClick={handleResend}\r\n              disabled={resendLoading}\r\n              className=\"text-[#28a745] hover:text-[#218838] font-medium underline disabled:opacity-50\"\r\n            >\r\n              {resendLoading ? 'Đang gửi...' : 'Click to resend.'}\r\n            </button>\r\n          </p>\r\n\r\n          {/* Error Message */}\r\n          {error && (\r\n            <div className=\"mb-4 bg-red-600 border border-red-700 text-white font-bold px-4 py-3 rounded-lg text-sm text-center shadow-lg\">\r\n              {error?.message || String(error)}\r\n            </div>\r\n          )}\r\n\r\n          {/* Success Message */}\r\n          {resendMessage && (\r\n            <div className=\"mb-4 bg-[#d4edda] border border-[#c3e6cb] text-[#155724] px-4 py-3 rounded-lg text-sm text-center\">\r\n              {resendMessage}\r\n            </div>\r\n          )}\r\n\r\n          {/* Buttons */}\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={handleCancel}\r\n              disabled={loading}\r\n              className=\"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              onClick={handleVerify}\r\n              disabled={loading || otp.some(d => !d)}\r\n              className=\"flex-1 px-6 py-3 bg-[#28a745] text-white rounded-lg font-medium hover:bg-[#218838] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Đang xác thực...' : 'Verify'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyOTP;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}